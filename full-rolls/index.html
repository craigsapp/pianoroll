---
layout: default
breadcrumbs: [['/','home']]
title: Roll scans
vim: ts=3
---

<h1> Pre-acceptance Test Roll Scans</h1>

<p>
This page links to sample scans of various roll types from the Stanford
Library piano-roll collections, mostly from the 8000-roll
<a trget="_blank" href="https://library.stanford.edu/collections/denis-condon-collection-reproducing-pianos-and-rolls">Condon collection</a>.  
Click on roll thumbnail images in
the list below to view more information about each roll as well as links
to the original scans and analyses of the scans.  Note that the
original full-color uncompressed TIFFs are 1&ndash;6 GB.

<p>
Rolls are grouped by format.  Click on a format in the list below to
move to the rolls for that format.  

<p style="letter-spacing:-1px;">
[
 <a href="#ampico_rolls">Ampico</a>&nbsp;|
 <a href="#duoart_rolls">Duo-Art</a>&nbsp;|
 <a href="#redwelte_rolls">Red</a>&nbsp;|
 <a href="#greenwelte_rolls">Green</a>&nbsp;|
 <a href="#licensee_rolls">Licensee</a>&nbsp;|
 <a href="#organ_rolls">Organ</a>&nbsp;|
 <a href="#metrostyle_rolls">Metrostyle</a>&nbsp;|
 <a href="#qrs_rolls">QRS</a>&nbsp;|
 <a href="#nonreproducing_rolls">Other</a>&nbsp;|
 <a href="#calibration_rolls">Calibration</a>
]

<p>
To see detailed information about a roll, click on its icon in the list.  Note that
the "<i>Automatic analysis of scan</i>" link at the bottom of most
roll entries gives a detailed, automatically generated
analysis of the scan.

<p>
Here is a <a target="_blank" href="https://docs.google.com/spreadsheets/d/16s-SUqWki41trQW_0UvyRTyfPO3Yz5dyzRabzM-CsG0/edit#gid=2082168260">spreadsheet summary</a> of the analysis:

<p>
<iframe style="width:800px; height:500px" src="https://docs.google.com/spreadsheets/d/e/2PACX-1vSisrKCScUBo5ypBz8WIPQcY17JeQMsSRGXSkeRZ3Svs6fU1upZSKJO80Lyz-crsj79enRJlt3Xdcsk/pubhtml?gid=2082168260&amp;single=true&amp;widget=false&amp;headers=false"></iframe>


<h3> Frame duplications </h3>

<p>
16 of the roll scans contain frame-duplication errors caused by an earlier
version of the scanning software (and camera driver), where pieces of the images
are duplicated and over-write frames missing or dropped when recording
the images.  Consecutive frame-duplication errors are marked in the reduced JPEG images,
but not in the original TIFF.  The marks consist of a solid color covering
1/4 of the problemmatic frame.  For each adjacent frame, the duplication marker
shifts to the other side of the image.  Here is an example from the
<a href="#pennino">Pennino</a> roll where there are 10 successive duplicate frames
(representing 1 physical inch on the rolls):
<p>
<img src="10duplications.png">
<p>
Most commonly there will be a burst of shorter dupliciation errors at the
start of a scan, such as this example from the <a href="#pennino">same roll</a>:
<p>
<img src="startduplications.png">
<p>
Three colors are cycled through to mark the frame duplications to separate
separate duplcation of a different frame, so the above image contains
six separate duplication events, each two to three frames in length.
Scans from December 2017 and later do not (should not) have duplication errors
since the scanning software will abort scanning if any are detected.

<!-- LISTINGS FOR EACH ROLL TYPE ------------------------------------------ -->

<a name="ampico_rolls"></a>
<h2> Ampico Rolls </h2>
<a name="_blank" href="https://en.wikipedia.org/wiki/American_Piano_Company">Ampico</a> rolls
were produced starting in 1913 and are the other most common American roll type.
Click on the roll thumbnails below to view more information about each roll.
<div class="listing" id="ampico-rolls"></div>

<a name="duoart_rolls"></a>
<h2> Duo-Art Rolls </h2>
<a target="_blank" href="https://en.wikipedia.org/wiki/Duo-Art">Duo-Art</a> rolls were produced
by the <a>Aeolean Company</a>, which was one of the
two dominant player-piano companies in the United States.
Click on the roll thumbnails below to view more information about each roll.
<div class="listing" id="duoart-rolls"></div>

<a name="greenwelte_rolls"></a>
<h2> Green Welte Rolls </h2>
"Green roll" are usually green-hue Welte-Mignon rolls produced from
1922 to 1932 in Freiburg, Germany by Welte & Sons.  They have 98
rows of holes spaced 9 per inch, and a width of 11.25 inches.
Click on the roll thumbnails below to view more information about each roll.  
<div class="listing" id="greenwelte-rolls"></div>

<a name="licensee_rolls"></a>
<h2> Welte-Mignon Licensee Rolls </h2>
Licensee rolls are mostly Welte rolls for the American market.
Click on the roll thumbnails below to view more information about each roll.
<div class="listing" id="licensee-rolls"></div>

<a name="redwelte_rolls"></a>
<h2> Red Welte Rolls </h2>
"Red rolls" are usually red-colored Welte-Mignon rolls produced by
<a target="_blank" href="https://en.wikipedia.org/wiki/Welte-Mignon">Welte
& Sons</a>.  They <a target="_blank"
href="https://www.google.com/patents/US287599">invented paper
rolls</a> for playing organs in the 1880's, and they were the first
company to record live piano performances, starting in 1904 on these
red rolls.  Red rolls were produced in Germany from 1905 to 1932,
and in Poughkeepsie, New York from 1913 to 1920.  New York rolls
sometimes have a cloth leader. They have 100 rows of holes at 8
holes per inch, with the width of the roll being about 12.9 inches.
Click on the roll thumbnails below to view more information about
each roll.
<div class="listing" id="redwelte-rolls"></div>

<a name="metrostyle_rolls"></a>
<h2> Metrostyle Rolls </h2>
These are non-reproducing rolls that have tempo and dynamics curves printed
onto the rolls.
Click on the roll thumbnails below to view more information about each roll.
<div class="listing" id="metrostyle-rolls"></div>

<a name="organ_rolls"></a>
<h2> Organ Rolls </h2>
Duo-Art 176-note organ rolls (two offset tracker bars).
Stanford Libraries has a collection of 2000 Duo-Art organ rolls.
Click on the roll thumbnails below to view more information about each roll.
<div class="listing" id="organ-rolls"></div>

<a name="qrs_rolls"></a>
<h2> QRS Rolls </h2>
Rolls from the QRS company.
Click on the roll thumbnails below to view more information about each roll.
<div class="listing" id="qrs-rolls"></div>

<a name="nonreproducing_rolls"></a>
<h2> Non-reproducing Rolls </h2>
This are rolls which are not recording a live pianist.
Click on the roll thumbnails below to view more information about each roll.
<div class="listing" id="nonreproducing-rolls"></div>

<a name="calibration_rolls"></a>
<h2> Calibration Roll </h2>
This section contains scans of a roll used to calibrate the
horizontal and vertical DPI at the lower and upper camera setting.
The lengthwise DPI was measured to be 300.24&pm;0.21 for the lower camera
setting and 300.32&pm;0.19 in the upper camera setting.  The camera position
should not affect the lengthwise DPI, and it doesn't.
The width DPI was measured to be 301.39 pixels/inch for the lower camera
setting and 251.48 pixels/inch for the upper camera setting.
The calcuations for these values are on
<a href="https://docs.google.com/spreadsheets/d/1OOC0NXxUMBS15NsSyTAnJv_4hsJqpxm9UKJ8w52S-sc/edit#gid=0">this spreadsheet</a>.
<div class="listing" id="calibration-rolls"></div>



<!-- ATON DATA ------------------------------------------------------------ -->



<script id="ampico-rolls-data" type="application/x-aton">
	{% include_relative ampico-rolls.aton %}
</script>

<script id="duoart-rolls-data" type="application/x-aton">
	{% include_relative duoart-rolls.aton %}
</script>

<script id="greenwelte-rolls-data" type="application/x-aton">
	{% include_relative greenwelte-rolls.aton %}
</script>

<script id="licensee-rolls-data" type="application/x-aton">
	{% include_relative licensee-rolls.aton %}
</script>

<script id="redwelte-rolls-data" type="application/x-aton">
	{% include_relative redwelte-rolls.aton %}
</script>

<script id="nonreproducing-rolls-data" type="application/x-aton">
	{% include_relative nonreproducing-rolls.aton %}
</script>

<script id="metrostyle-rolls-data" type="application/x-aton">
	{% include_relative metrostyle-rolls.aton %}
</script>

<script id="organ-rolls-data" type="application/x-aton">
	{% include_relative organ-rolls.aton %}
</script>

<script id="qrs-rolls-data" type="application/x-aton">
	{% include_relative qrs-rolls.aton %}
</script>

<script id="calibration-rolls-data" type="application/x-aton">
	{% include_relative calibration-rolls.aton %}
</script>

<!-- SCRIPT --------------------------------------------------------------- -->

<script>

document.addEventListener("DOMContentLoaded", function() {

	var aton = new ATON();
	aton.setOnlyChildRoot();

	{% include_relative rolldata.js collection="ampico" %}
	{% include_relative rolldata.js collection="duoart" %}
	{% include_relative rolldata.js collection="greenwelte" %}
	{% include_relative rolldata.js collection="licensee" %}
	{% include_relative rolldata.js collection="redwelte" %}
	{% include_relative rolldata.js collection="nonreproducing" %}
	{% include_relative rolldata.js collection="metrostyle" %}
	{% include_relative rolldata.js collection="organ" %}
	{% include_relative rolldata.js collection="qrs" %}
	{% include_relative rolldata.js collection="calibration" %}

	
	var hash = location.hash;
	if (hash != "") {
		console.log("HASH IS", hash);
		var entry = document.querySelector(hash);
		if (entry) {
			entry.open = true;
			console.log("OPENING", hash);
		} else {
			console.log("HASH", hash, "DOES NOT EXIST");
		}
	}


});



//////////////////////////////
//
// Handlebars helper "plural" --
//

Handlebars.registerHelper('plural', function(sstring, pstring, count) {
	return new Handlebars.SafeString(parseInt(count) == 1 ? sstring : pstring);
});



//////////////////////////////
//
// Handlebars helper "curleybold" --
//

Handlebars.registerHelper('curleybold', function(string) {
	string = string.replace(/}/g, "</span>")
					.replace(/{/g, "<span style='font-weight:bold'>");
	return new Handlebars.SafeString(string);
});



//////////////////////////////
//
// Handlebars helper "thumbnail" --
//

Handlebars.registerHelper('thumbnail', function(data) {
	var filebase = data.FILEBASE;
	var url = data.ANALYSES.AUTOMATIC.PLOTURL;
	var output = url + "/" + filebase + "-thumbnail.jpg";
	return new Handlebars.SafeString(output);
});



//////////////////////////////
//
// Handlebars helper "imglocation" --
//

Handlebars.registerHelper('imglocation', function(data) {
	var url = data.ANALYSES.AUTOMATIC.PLOTURL;
	return new Handlebars.SafeString(url);
});



//////////////////////////////
//
// Handlebars helper "audiosource" --
//

Handlebars.registerHelper('audiosource', function(data) {
	var url = data.ANALYSES.AUTOMATIC.PLOTURL;
	url += "/" + data.FILEBASE + "-analysis/midi.mp3";
	return new Handlebars.SafeString(url);
});



//////////////////////////////
//
// Handlebars helper "realurl" --
//

Handlebars.registerHelper('realurl', function(url, filebase) {
	var output = url + "/" + filebase + "-analysis";
	return new Handlebars.SafeString(output);
});


//////////////////////////////
//
// Handlebars helper "composerperformer" --
//

Handlebars.registerHelper('composerperformer', function(data) {
	var output = "<span style='float:right; font-weight:normal; font-size:90%;'>";

	var composer = data.COMPOSER;
	var performer = data.PERFORMER;

	if (composer.match(/none/i)) { composer = ""; }
	if (performer.match(/none/i)) { performer = ""; }

	var fullcomposer = composer.replace(/[{}]/g, "");
	var fullperformer = performer.replace(/[{}]/g, "");

	var ccount = (composer.match(/{/g) || []).length;
	var pcount = (performer.match(/{/g) || []).length;

	if (ccount == 1) {
		composer = composer.replace(/.*{/, "").replace(/}.*/, "");
	}
	if (pcount == 1) {
		performer = performer.replace(/.*{/, "").replace(/}.*/, "");
	}

	performer = performer.replace(/Carreno/, "Carre&ntilde;o");
	composer = composer.replace(/Carreno/, "Carre&ntilde;o");

	performer = performer.replace(/Albert/, "d'Albert");
	composer = composer.replace(/Albert/, "d'Albert");


	var ctitle = fullcomposer + ", composer";
	var ptitle = fullperformer + ", performer";

	if (ccount > 1) { ctitle += "s"; }
	if (pcount > 1) { ptitle += "s"; }

	if (composer === performer) {
		performer = "";
		ptitle = "";
		ctitle = fullcomposer + ", performer and composer";
	}

	if (ccount > 1) { composer = "various"; }
	if (pcount > 1) { performer = "various"; }

	if (composer.match(/^\s*$/) && performer.match(/^\s*$/)) {
		return new Handlebars.SafeString("");
	}

	if (!composer.match(/^\s*$/)) {
		output += "<span title=\"" + ctitle + "\">";
		output += composer;
		output += "</span>";
	}

	if ((!composer.match(/^\s*$/)) && (!performer.match(/^\s*$/))) {
		output += "<span style='color:#cccccc; vertical-align: middle; position:relative; top:-2px; font-size:150%'>/</span>";
	}

	if (!performer.match(/^\s*$/)) {
		output += "<span title=\"" + ptitle + "\">";
		output += performer;
		output += "</span>";
	}
	output += "</span>";

	return new Handlebars.SafeString(output);
});



//////////////////////////////
//
// Handlebars helper "onlycurley" --
//

Handlebars.registerHelper('onlycurley', function(string) {
	if (string.match(/^\s*$/)) {
		return new Handlebars.SafeString(string);
	}
	if (string.match(/none/)) {
		return new Handlebars.SafeString("");
	}
	var output = string.replace(/^.*{/, "").replace(/}.*$/, "");
	output = "<span class='font-weight:bold'>" + output + "</span>";
	output += " &mdash;"
	return new Handlebars.SafeString(output);
});



//////////////////////////////
//
// Handlebars helper "jpgdpi" --
//

Handlebars.registerHelper('jpgdpi', function(pixels, dpi) {
	var percentage = parseInt(64000 / pixels * 100 + 0.5);
	if (percentage > 33) {
		percentage = 33;
	}
	var d = parseFloat(dpi);
	if (!d) {
		d = 300.0;
	}
	var newdpi = parseInt(percentage / 100.0 * d + 0.5 + 0.5);

	var output = newdpi + "-dpi";
	return new Handlebars.SafeString(output);
});



//////////////////////////////
//
// Handlebars helper "length" --
//

Handlebars.registerHelper('length', function(pixels, dpi) {
	var p = parseInt(pixels);
	if (!p) {
		return new Handlbars.SafeString("");
	}
	var d = parseFloat(dpi);
	if (!d) {
		return new Handlbars.SafeString("");
	}
	var r = 0;
	var matches;
	if (matches = dpi.match(/pm;\s*([\d.]+)/)) {
		r = parseFloat(matches[1]);
	}

	var l = pixels / d / 12.0;
	var length = parseInt(l * 100.0)/100.0;

	var output = ", " + length;
	if (r > 0) {
		var error = length * r / d;
		error = parseInt(error * 100) / 100.0;
		if (error > 0) {
			output += " &pm; ";
			output += error;
		}
	}
	output += " feet";


	return new Handlebars.SafeString(output);
});



//////////////////////////////
//
// Handlebars helper "pixelInch" --
//

Handlebars.registerHelper('pixelInch', function(pixels, dpi) {
	var p = parseFloat(pixels);
	if (!p) {
		return new Handlbars.SafeString("");
	}
	var d = parseFloat(dpi);
	if (!d) {
		return new Handlbars.SafeString("");
	}

	var r = 0;
	var matches;
	if (matches = dpi.match(/pm;\s*([\d.]+)/)) {
		r = parseFloat(matches[1]);
	}

	var l = p / d;
	var inches = parseInt(l * 100.0)/100.0;

	var output = p + " pixels ("
	output += inches;
	if (r > 0) {
		var error = inches * r / d;
		error = parseInt(error * 100) / 100.0;
		if (error > 0) {
			output += " &pm; ";
			output += error;
		}
	}
	if (error != 1) {
		output += " inches";
	} else {
		output += " inch";
	}
	output += ")";


	return new Handlebars.SafeString(output);
});



//////////////////////////////
//
// Handlebars helper "holesPerInch" --
//

Handlebars.registerHelper('holesPerInch', function(pixels, dpi) {
	var p = parseFloat(pixels);
	if (!p) {
		return new Handlbars.SafeString("");
	}
	var d = parseFloat(dpi);
	if (!d) {
		return new Handlbars.SafeString("");
	}

	var count = parseInt(d / p * 2.0 + 0.5) / 2.0;
	var output = count + " (" + p + " pixels)"
	return new Handlebars.SafeString(output);
});



//////////////////////////////
//
// Handlebars helper "youtube" -- also maybe filter out full-url cases (just want id).
//

Handlebars.registerHelper('youtube', function(data) {
	var output = "";
	if (!(data instanceof Array)) {
		if (data.match(" ")) {
			data = data.split(/\s+/);
		}
	}
	if (data instanceof Array) {
		for (var i=0; i<data.length; i++) {
			if (data[i].match(/^\s*$/)) {
				continue;
			}
			output += "<iframe width='420' height='315' allowfullscreen frameborder='0' \n";
			output += "    src='https://www.youtube.com/embed/" + data[i] + "'>\n";
			output += "</iframe>\n";
		}
	} else {
		output += "<iframe width='420' height='315' allowfullscreen frameborder='0' \n";
		output += "    src='https://www.youtube.com/embed/" + data + "'>\n";
		output += "</iframe>\n";
	}

	return new Handlebars.SafeString(output);
});




//////////////////////////////
//
// Handlebars helper "holedpi" --
//

Handlebars.registerHelper('holedpi', function(pixels, dpi) {
	var p = parseFloat(pixels);
	if (!p) {
		return new Handlbars.SafeString("");
	}
	var d = parseFloat(dpi);
	if (!d) {
		return new Handlbars.SafeString("");
	}

	var count = parseInt(d / p * 2.0 + 0.5) / 2.0;

	var newdpi = count * p;
	newdpi = parseInt(newdpi * 100.0 + 0.5)/100.0;
	var output = newdpi + " dpi";
	return new Handlebars.SafeString(output);
});



//////////////////////////////
//
// Handlebars helper "startmargin" --
//

Handlebars.registerHelper('endleader', function(scaninfo, dpi) {

	var firsthole = parseInt(scaninfo.FIRST_HOLE);
	var leaderend = parseInt(scaninfo.LEADER_ROW);
	var p = firsthole - leaderend;

	var d = parseFloat(dpi);
	if (!d) {
		return new Handlbars.SafeString("");
	}

	var r = 0;
	var matches;
	if (matches = dpi.match(/pm;\s*([\d.]+)/)) {
		r = parseFloat(matches[1]);
	}

	var l = p / d;
	var inches = parseInt(l * 100.0)/100.0;

	var output = p + " pixels ("
	output += inches;
	if (r > 0) {
		var error = inches * r / d;
		error = parseInt(error * 100) / 100.0;
		if (error > 0) {
			output += " &pm; ";
			output += error;
		}
	}
	if (error != 1) {
		output += " inches";
	} else {
		output += " inch";
	}
	output += ")";

	return new Handlebars.SafeString(output);
});



//////////////////////////////
//
// Handlebars helper "pixelLength" --
//

Handlebars.registerHelper('pixelLength', function(pixel1, pixel2, dpi) {
	var p1 = parseFloat(pixel1);
	if (!p1) {
		return new Handlbars.SafeString("");
	}
	var p2 = parseFloat(pixel2);
	if (!p2) {
		return new Handlbars.SafeString("");
	}

	var p = p2-p1;
	if (p < 0) {
		p = -p;
	}

	var d = parseFloat(dpi);
	if (!d) {
		return new Handlbars.SafeString("");
	}

	var r = 0;
	var matches;
	if (matches = dpi.match(/pm;\s*([\d.]+)/)) {
		r = parseFloat(matches[1]);
	}

	var l = p / d;
	var inches = parseInt(l * 100.0)/100.0;

	var output = p + " pixels ("
	output += inches;
	if (r > 0) {
		var error = inches * r / d;
		error = parseInt(error * 100) / 100.0;
		if (error > 0) {
			output += " &pm; ";
			output += error;
		}
	}
	if (error != 1) {
		output += " inches";
	} else {
		output += " inch";
	}
	output += ")";


	return new Handlebars.SafeString(output);
});



//////////////////////////////
//
// Handlebars helper "zoomAnalysis" --
//

Handlebars.registerHelper('zoomAnalysis', function(urlbase, filebase, length, segment) {
	segment = parseInt(segment);
	length = parseInt(length);

	var output = "";
	var count = parseInt(length / segment + 0.99999);
	for (var i=0; i<count; i++) {
		output += "<a target=\"_blank\" href=\"" + urlbase + "/" + filebase + "-analysis/analysis-";
		output += i + ".jpg\">" + i + "</a>";
		if (i < count - 1) {
			output += ", ";
		}
	}

	return new Handlebars.SafeString(output);
});



</script>


{% include_relative templates.html %}

{% include_relative style.html %}

<div style="height:200px;"></div>



